import 'package:bloc/bloc.dart';import 'package:meta/meta.dart';import '../../data/api/products/product.dart';import '../../data/local/hive_helper.dart';part 'basket_event.dart';part 'basket_state.dart';class BasketBloc extends Bloc<BasketEvent, BasketState> {  BasketBloc() : super(BasketInitial()) {    on<GetAllProductsFromBasketEvent>((event, emit) async {      final data = HiveHelper.getAllProductsFromBasket();      print(HiveHelper.getAllProductsFromBasket().length);      emit(GetAllProductsFromBasketState(data));    });    on<DeleteProductFromBasketEvent>((event, emit) async {      HiveHelper.deleteProductFromBasket(event.product);      final data = HiveHelper.getAllProductsFromBasket();      emit(GetAllProductsFromBasketState(data));    });    on<AddProductToFavourite>((event, emit) async {      HiveHelper.addProductToFavourite(event.product);      final data = HiveHelper.getAllProductsFromBasket();      emit(GetAllProductsFromBasketState(data));    });    on<DeleteBasket>((event, emit) async {      HiveHelper.deleteBasket();      final data = HiveHelper.getAllProductsFromBasket();      emit(GetAllProductsFromBasketState(data));    });  }}