import 'package:flutter/material.dart';import 'package:flutter_svg/flutter_svg.dart';import 'package:google_fonts/google_fonts.dart';import 'package:hive/hive.dart';import 'package:hive_flutter/adapters.dart';import 'package:texnomartoriginal/presentation/profile_screen.dart';import 'package:texnomartoriginal/presentation/stores_screen.dart';import 'basket_page.dart';import 'catalog_page.dart';import 'favourite_page.dart';import 'home_page.dart';class DashboardPage extends StatefulWidget {  final int currentPage;  const DashboardPage({super.key, required this.currentPage});  @override  State<DashboardPage> createState() => _DashboardPageState();}class _DashboardPageState extends State<DashboardPage> {  final PageStorageBucket bucket = PageStorageBucket();  int currentTab = 0;  Widget currentScreen = const HomePage();  final List<Widget> screens = [    const HomePage(),    const CatalogPage(),    const BasketPage(),    const FavouritePage(),    const ProfilePage()  ];  @override  void initState() {    currentTab = widget.currentPage;    currentTab == 2 ? currentScreen = const BasketPage() : const HomePage();    super.initState();  }  @override  Widget build(BuildContext context) {    return Scaffold(      body: PageStorage(        bucket: bucket,        child: currentScreen,      ),      bottomNavigationBar: BottomNavigationBar(        currentIndex: currentTab,        onTap: (int index){          setState(() {            currentScreen = screens[index];            currentTab = index;          });        },        items:  [              const BottomNavigationBarItem(icon: Icon(Icons.home_outlined),label: "Bosh sahifa"),              const BottomNavigationBarItem(icon: Icon(Icons.manage_search_outlined), label: "Katalog"),              BottomNavigationBarItem(icon: ValueListenableBuilder<Box>(              builder: (BuildContext context, Box<dynamic> value, Widget? child) {                return Badge(label: Text(value.values.length.toString()), child:const Icon(Icons.shopping_basket_outlined));              },              valueListenable: Hive.box("basket").listenable()          ), label: "Savatcha"),          BottomNavigationBarItem(icon: ValueListenableBuilder<Box>(              builder: (BuildContext context, Box<dynamic> value, Widget? child) {                return Badge(label: Text(value.values.length.toString()), child:const Icon(Icons.favorite_border_outlined));              },              valueListenable: Hive.box("favourite").listenable()          ), label: "Sevimlilar"),              const BottomNavigationBarItem(icon: Icon(Icons.person_2_outlined), label: "Profilingiz"),        ],          selectedItemColor: Colors.black,          unselectedItemColor: Colors.grey,        unselectedFontSize: 11,        selectedFontSize: 11,      ),    );  }}